(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[253],{2161:function(e,a,t){"use strict";t.r(a),t.d(a,"AddStockAdjustment",(function(){return q}));var n=t(54),l=t.n(n),c=t(82),o=t(28),r=t(37),s=t(13),m=t(14),u=t(16),d=t(15),i=t(0),h=t.n(i),p=t(577),g=t(139),E=t(56),v=t(136),b=t(578),y=t(579),f=t(74),G=t(85),j=t(576),k=t(73),C=t(19),x=t(132),q=(t(187),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).changeHandlerG=function(e,a){var t=n.state[e.target.name];console.log(t),t[a]=e.target.value,n.setState(Object(r.a)({},e.target.name,t))},n.submitHandler=function(e){e.preventDefault();for(var a=[],t=0;t<n.state.productG.length;t++)a.push({productname:n.state.productG[t],availableqty:n.state.availableqtyG[t],qty:n.state.qtyG[t],value:n.state.valueG[t],comment:n.state.commentG[t]});var l=n.state;l.product=a,console.log("Option",l),x.a.post("/addstockadjustment",l,{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e),n.props.history.push("/app/stockControl/stockAdjustment")})).catch((function(e){console.log(e.response)}))},n.changeHandler=function(e){n.setState(Object(r.a)({},e.target.name,e.target.value))},n.state={addTextbox:[{}],reference_no:"",adjustment_date:"",warehouse:"",adjusted_qty:"",adjusted_value:"",reason:"",grandTotal:"",productC:[],productG:[""],availableqtyG:[""],qtyG:[""],commentG:[""],valueG:[""]},n}return Object(m.a)(t,[{key:"addControls",value:function(){this.setState({productG:[].concat(Object(o.a)(this.state.productG),[""]),availableqtyG:[].concat(Object(o.a)(this.state.availableqtyG),[""]),qtyG:[].concat(Object(o.a)(this.state.qtyG),[""]),commentG:[].concat(Object(o.a)(this.state.commentG),[""]),valueG:[].concat(Object(o.a)(this.state.valueG),[""]),addTextbox:[].concat(Object(o.a)(this.state.addTextbox),[""])})}},{key:"delControl",value:function(e){console.log(this.state),this.state.addTextbox.splice(e,1),this.state.productG.splice(e,1),this.state.availableqtyG.splice(e,1),this.state.qtyG.splice(e,1),this.state.commentG.splice(e,1),this.state.valueG.splice(e,1),this.setState({})}},{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.get("/getwarehouse",{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e),a.setState({warehouseL:e.data.data})})).catch((function(e){console.log(e)})),x.a.get("/getReason",{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e),a.setState({reasonL:e.data.data})})).catch((function(e){console.log(e)})),x.a.get("/productbysellerbytoken",{headers:{"auth-adtoken":localStorage.getItem("auth-adtoken")}}).then((function(e){console.log(e.data.data),a.setState({productC:e.data.data})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a,t=this;return h.a.createElement("div",null,h.a.createElement(p.a,null,h.a.createElement(g.a,{className:"m-2"},h.a.createElement(E.a,null,h.a.createElement("h1",{"col-sm-6":!0,className:"float-left"},"Add New Stock Adjustment")),h.a.createElement(E.a,null,h.a.createElement(v.a,{className:" btn btn-danger float-right",onClick:function(){return C.a.push("/app/stockControl/stockAdjustment")}},"Back"))),h.a.createElement(b.a,null,h.a.createElement(y.a,{className:"m-1",onSubmit:this.submitHandler},h.a.createElement(g.a,{className:"mb-2"},h.a.createElement(E.a,{lg:"6",md:"6"},h.a.createElement(f.a,null,"Referance Number"),h.a.createElement(G.a,{type:"number",name:"reference_no",value:this.state.reference_no,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Warehouse"),h.a.createElement(j.a,{type:"select",name:"warehouse",value:this.state.warehouse,onChange:this.changeHandler},null===(e=this.state.warehouseL)||void 0===e?void 0:e.map((function(e){return h.a.createElement("option",{key:e._id,value:e._id},e.warehousename)})))),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Adjustment Date"),h.a.createElement(G.a,{type:"date",name:"adjustment_date",value:this.state.adjustment_date,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Adjustment Qty"),h.a.createElement(G.a,{type:"text",name:"adjusted_qty",value:this.state.adjusted_qty,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Adjustment Value"),h.a.createElement(G.a,{type:"text",name:"adjusted_value",value:this.state.adjusted_value,onChange:this.changeHandler})),h.a.createElement(E.a,{lg:"6",md:"6",className:"mb-1"},h.a.createElement(f.a,null,"Reason"),h.a.createElement(j.a,{type:"select",name:"reason",value:this.state.reason,onChange:this.changeHandler},null===(a=this.state.reasonL)||void 0===a?void 0:a.map((function(e){return h.a.createElement("option",{key:e._id,value:e._id},e.reason)}))))),h.a.createElement(g.a,null,h.a.createElement("div",null,this.state.addTextbox.map((function(e,a){var n;return h.a.createElement("div",null,h.a.createElement("div",{id:"btn"},h.a.createElement(g.a,null,h.a.createElement(E.a,{lg:"6",md:"6",sm:"6",className:"mb-2 d-flex align-items-start"},h.a.createElement(v.a,{color:"primary",onClick:function(){return t.addControls()}},"Add")))),h.a.createElement(g.a,null,h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(k.a,null,h.a.createElement(f.a,null," Product Name "),h.a.createElement(j.a,{type:"select",name:"productG",placeholder:" Product Name",value:t.state.productG[a],onChange:function(e){t.changeHandlerG(e,a)}},h.a.createElement("option",null,"Select Product"),null===(n=t.state.productC)||void 0===n?void 0:n.map((function(e){return h.a.createElement("option",{key:e._id,value:e._id},e.product_name)}))))),h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(k.a,null,h.a.createElement(f.a,null," Available Qty "),h.a.createElement(G.a,{type:"number",name:"availableqtyG",placeholder:"Available Qty",value:t.state.availableqtyG[a],onChange:function(e){t.changeHandlerG(e,a)}}))),h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(k.a,null,h.a.createElement(f.a,null," Quantity "),h.a.createElement(G.a,{type:"number",rows:"5",name:"qtyG",placeholder:"QTY",value:t.state.qtyG[a],onChange:function(e){t.changeHandlerG(e,a)}}))),h.a.createElement(E.a,{md:"1",sm:"12"},h.a.createElement(k.a,null,h.a.createElement(f.a,null," Value "),h.a.createElement(G.a,{type:"text",rows:"5",name:"valueG",placeholder:"Value",value:t.state.valueG[a],onChange:function(e){t.changeHandlerG(e,a)}}))),h.a.createElement(E.a,{md:"2",sm:"12"},h.a.createElement(k.a,null,h.a.createElement(f.a,null," Comment "),h.a.createElement(G.a,{type:"text",rows:"5",name:"commentG",placeholder:"Comment",value:t.state.commentG[a],onChange:function(e){t.changeHandlerG(e,a)}}))),h.a.createElement(E.a,{md:"1",sm:"6",className:"p-1 ml-4  d-flex justify-content-end"},h.a.createElement(v.a,{className:"ml-1",color:"danger",onClick:function(){return t.delControl(a)}},"Remove"))))})))),h.a.createElement(g.a,{className:"d-flex justify-content-end"},h.a.createElement(E.a,{lg:"4"},h.a.createElement(k.a,null,h.a.createElement(f.a,null,"Grand Total"),h.a.createElement(G.a,{type:"number",name:"grandTotal",placeholder:"Grand Total",value:this.state.grandTotal,onChange:this.changeHandler})))),h.a.createElement(g.a,null,h.a.createElement(v.a,{color:"danger",type:"submit",className:"mr-1 mb-1"},"Submit"))))))}}]),t}(i.Component));a.default=q}}]);
//# sourceMappingURL=253.16f45b2a.chunk.js.map